<!DOCTYPE html>
<html>

<head>
  <title>Face-api.js Demo</title>
  <script defer src="face-api.js"></script>
  <script defer src="FileSaver.js"></script>
  <script defer src="commons.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body style="background-color:#FFFFE0; margin-top: 50px; margin-left: 10px; margin-right: 20px;">
  <div style="justify-content: center; align-items: center; display: flex;">
    <video width="640" height="480" id="inputVideo" autoplay muted playsinline></video>
    <canvas id="overlay" style="position: absolute;" />
  </div>
  <div class="row">
    <div class="col-sm-6" style="text-align: center;">
      <h3 style="text-align: center;">Convolutional Layer : 1</h3>
      <div class="row">
        <div class="col-sm-4" style="text-align: center;">
          <canvas id="canvas2" width="111" height="111" style="width: 222px; height: 222px;"></canvas>
          <p id="kernel2">kernel: 2</p>
        </div>
        <div class="col-sm-4" style="text-align: center;">
          <canvas id="canvas8" width="111" height="111" style="width: 222px; height: 222px;"></canvas>
          <p id="kernel8">kernel: 8</p>
        </div>
        <div class="col-sm-4" style="text-align: center;">
          <canvas id="canvas11" width="111" height="111" style="width: 222px; height: 222px;"></canvas>
          <p id="kernel11">kernel: 11</p>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <h3 style="text-align: center;">Convolutional Layer : 4</h3>
      <div class="row" style="margin-bottom: 50px;">
        <div class="col-sm-3" style="text-align: center;">
          <canvas id="canvas85" width="14" height="14" style="width: 175px; height: 175px;"></canvas>
          <p id="kernel85">kernel: 21</p>
        </div>
        <div class="col-sm-3" style="text-align: center;">
          <canvas id="canvas90" width="14" height="14" style="width: 175px; height: 175px;"></canvas>
          <p id="kernel90">kernel: 25</p>
        </div>
        <div class="col-sm-3" style="text-align: center;">
          <canvas id="canvas333" width="14" height="14" style="width: 175px; height: 175px;"></canvas>
          <p id="kernel333">kernel: 73</p>
        </div>
        <div class="col-sm-3" style="text-align: center;">
          <canvas id="canvas463" width="14" height="14" style="width: 175px; height: 175px;"></canvas>
          <p id="kernel463">kernel: 122</p>
        </div>
      </div>
    </div>
    <div style="margin-left: auto; margin-right: auto; padding-top: 525px;">
      <button id="create" onclick="generate()">Create file</button>
    </div>
    <p style="text-align: center;">-----------------------------</p>
  </div>
</body>
<script>
  async function generate() {
    var data = Promise.resolve(await faceapi.nets.tinyFaceDetector.getConvLayerString());
    data.then(vals => {
      var blob = new Blob([vals], { type: "text/plain;charset=utf-8" });
      saveAs(blob, "output.txt");
    });

    // var input_data = Promise.resolve(await faceapi.nets.ssdMobilenetv1.getInputString());
    // input_data.then(vals => {
    //   var blob = new Blob([vals], { type: "text/plain;charset=utf-8" });
    //   saveAs(blob, "input.txt");
    // });
  }
</script>

</html>